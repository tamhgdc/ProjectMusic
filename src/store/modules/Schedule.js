
export default {
    namespaced: true,
    state: () => ({
        listShow: [
            {
                imgChannel: "https://i.ytimg.com/vi/BMtaUb-E5Uc/maxresdefault.jpg",
                shows: [
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS1",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 1,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS2",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 2,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS3",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 3,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS4",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 4,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS5",
                        duration: "20:00 - 21:00",
                        type: 9,
                        key: 5,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 6,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 9,
                        key: 7,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 8,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 12,
                        key: 10,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 11,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 12,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 12,
                        key: 13,
                    },
                ],
            },
            {
                imgChannel:
                    "https://photo-resize-zmp3.zadn.vn/w240_r1x1_jpeg/cover/c/2/4/7/c2475264a30999a45a3c8bcf0e5f090d.jpg",
                shows: [
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "TRAN DUC THANH",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 14,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 15,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 16,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 9,
                        key: 17,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 18,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 19,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 20,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 21,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 22,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 23,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 9,
                        key: 24,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 25,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 9,
                        key: 26,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 27,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 28,
                    },
                ],
            },
            {
                imgChannel: "https://i.ytimg.com/vi/HXkh7EOqcQ4/maxresdefault.jpg",
                shows: [
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "THE LA SAO",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 29,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 30,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 31,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 32,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 33,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 12,
                        key: 34,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 35,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 9,
                        key: 36,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 37,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 12,
                        key: 38,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 3,
                        key: 39,
                    },
                    {
                        img: "https://znews-photo.zadn.vn/w660/Uploaded/izhqv/2018_10_14/thang_dien_0.jpg",
                        title: "VIETNAM'S HOT HITS",
                        duration: "20:00 - 21:00",
                        type: 6,
                        key: 40,
                    },
                ],
            },
        ],
        current_time: '00:00',
        current_time_location: 0,
        loading_time: true,
        display_schedule_range: 0,
        width: 0
    }),
    getters: {
        listShow: state => state.listShow,
        current_time: state => state.current_time,
        current_time_location: state => state.current_time_location,
        loading_time: state => state.loading_time,
        display_schedule_range: state => state.display_schedule_range,
        width: state => state.width
    },
    actions: {
        async getCurrentTime({ commit }) {
            try {
                const today = new Date()
                commit('updateCurrentTimeLocation', await (today.getHours() * 252 + 4.2 * today.getMinutes()))
                commit('updateCurrentTime', await (today.getHours() + ':' + today.getMinutes()))
                if (today.getHours() < 10) {
                    commit('updateCurrentTime', '0' + today.getHours() + ':' + today.getMinutes())
                }
                if (today.getMinutes() < 10) {
                    commit('updateCurrentTime', today.getHours() + ':0' + today.getMinutes())
                }
                if (today.getHours() < 10 && today.getMinutes() < 10) {
                    commit('updateCurrentTime', '0' + today.getHours() + ':0' + today.getMinutes())
                }
                commit('updateLoadingTime', false)
            } catch (ex) {
                console.log(ex.message)
            }
        },
        async getCurrentLocation({ commit, getters }) {
            try {
                var element = document.getElementsByClassName('v-slide-group__content')
                const today = new Date()
                commit('updateCurrentTimeLocation', await today.getHours() * 252 + 4.2 * today.getMinutes())
                if (today.getHours() > 0) {
                    element[1].style.transform = "translateX(-" + (getters.current_time_location - 250) + "px)"
                } else {
                    element[1].style.transform = "translateX(-" + (getters.current_time_location) + "px)"
                }
                commit('updateDisplayScheduleRange', getters.current_time_location)
                commit('updateWidth', element[1].getBoundingClientRect().width)
            } catch (ex) {
                console.log(ex)
            }
        },
        async getLocationLine({ commit }) {
            const today = new Date()
            commit('updateCurrentTimeLocation', await today.getHours() * 252 + 4.2 * today.getMinutes())
        },
        display_range({ commit, getters }, flag) {
            try {
                var element = document.getElementsByClassName('v-slide-group__content')
                if (flag == 1) {
                    if (getters.display_schedule_range < 700) {
                        element[1].style.transform = "translateX(-" + 0 + "px)"
                        commit('updateDisplayScheduleRange', 0)
                    } else {
                        element[1].style.transform = "translateX(-" + (getters.display_schedule_range - 700) + "px)"
                        commit('updateDisplayScheduleRange', getters.display_schedule_range - 700)
                    }
                } else {
                    if (getters.display_schedule_range > getters.width * 0.85) {
                        element[1].style.transform = "translateX(-" + 0 + "px)"
                        commit('updateDisplayScheduleRange', 0)
                    } else {
                        element[1].style.transform = "translateX(-" + (getters.display_schedule_range + 700) + "px)"
                        commit('updateDisplayScheduleRange', getters.display_schedule_range + 700)
                    }
                }
            } catch (ex) {
                console.log(ex)
            }
        }
    },
    mutations: {
        updateCurrentTime(state, payload) {
            state.current_time = payload
        },
        updateLoadingTime(state, payload) {
            state.loading_time = payload
        },
        updateCurrentTimeLocation(state, payload) {
            state.current_time_location = payload
        },
        updateDisplayScheduleRange(state, payload) {
            state.display_schedule_range = payload
        },
        updateWidth(state, payload) {
            state.width = payload
        }
    }
}